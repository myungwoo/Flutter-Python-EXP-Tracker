# Mapleland EXP Tracker

**Mapleland EXP Tracker**는 Mapleland라는 온라인 게임에서 캐릭터의 경험치 상승을 지속적으로 측정하고 시각화해주는 Flutter-Python 기반 애플리케이션입니다.  
사용자가 사냥하면서 캐릭터의 레벨 및 경험치 수치를 손쉽게 추적할 수 있도록 설계되었습니다.

---

### 앱의 구조 및 동작 과정
**Mapleland EXP Tracker**는 **Flutter**로 개발된 클라이언트 앱과 **Python 기반 FastAPI** 서버로 구성되어 있습니다.  
각각의 역할과 동작 과정을 간략히 설명하면 다음과 같습니다:

- **Flutter 클라이언트:**  
  - 사용자 인터페이스(UI)를 제공하며 경험치와 레벨 데이터를 실시간으로 표시.  
  - ROI(Region of Interest) 설정을 통해 경험치 및 레벨 데이터가 표시될 영역을 선택.  
  - 타이머를 통해 수집된 데이터를 누적하고, 퍼센트를 계산하여 보여줌.

- **Python 서버:**  
  - 클라이언트에서 받은 ROI 좌표를 기반으로 화면을 캡처.  
  - Tesseract OCR을 사용하여 텍스트를 추출하고 유효한 경험치와 레벨 값을 파싱.  
  - FastAPI로 데이터를 클라이언트에 전달하여, 실시간 업데이트를 지원.

이처럼 클라이언트-서버 아키텍처를 통해, 각 구성 요소는 독립적으로 동작하면서도 서로 긴밀히 연결되어 실시간 경험치 추적 기능을 제공합니다.

---

## 사용된 라이브러리
**Flutter**:
- [window_manager](https://pub.dev/packages/window_manager): 창을 제어하고 전체 화면 및 창 이동을 지원.
- [google_fonts](https://pub.dev/packages/google_fonts): 다양한 글꼴 스타일로 텍스트 표시.
- [http](https://pub.dev/packages/http): 서버와의 데이터 통신을 처리.
- [url_launcher](https://pub.dev/packages/url_launcher): 외부 URL 열기 기능 제공.

**Python**:
- [FastAPI](https://fastapi.tiangolo.com/): 고성능 비동기 웹 프레임워크로, API 서버 및 OCR 데이터 제공.
- [pytesseract](https://pypi.org/project/pytesseract/): Tesseract OCR 엔진으로 이미지에서 텍스트 추출.
- [mss](https://pypi.org/project/mss/): 화면 캡처를 통해 ROI 영역 이미지를 빠르게 저장.
- [uvicorn](https://www.uvicorn.org/): ASGI 서버로 FastAPI를 실행.

---

## 사용 방법
1. 앱을 실행한 뒤, 영역 지정 버튼을 눌러 게임 화면에서 경험치와 레벨이 표시되는 영역을 예시에 맞게 지정합니다.
2. 영역 설정이 완료되면 타이머를 시작하여 실시간 데이터를 수집합니다.
3. 앱 화면에서 경험치 증가량과 퍼센트 상승치를 실시간으로 확인하며 사냥 효율을 분석합니다.
4. 설정 버튼을 눌러 설정 페이지로 이동하면, 타이머 시간을 지정할 수 있으며 5분 평균 경험치 표시도 활성화할 수 있습니다.

---

## 사용 예시 영상

[![사용 예시 영상](https://img.youtube.com/vi/87UW8UHCmyo/maxresdefault.jpg)](https://youtu.be/87UW8UHCmyo)

위 이미지를 클릭하시면 앱의 사용 예시를 확인하실 수 있습니다.


---

## 주의 사항
1. 본 앱은 파이썬의 mss 라이브러리를 활용하여 화면 캡처 기능만을 제공합니다. 캡처한 데이터를 기반으로 경험치 획득량을 집계하는 기능만을 수행하며, 클라이언트 조작이나 네트워크에 대한 비인가 접근은 전혀 존재하지 않습니다. 일반적인 스크린샷, 동영상 녹화와 동일한 원리로 동작하므로, 업계 표준에 부합하며 정당하다고 판단됩니다. 개발자는 본 앱의 사용이 플랫폼 정책에 위배될 여지가 없다고 판단하며, 직접 스스로 신고까지 진행하였으나 ‘검토해보겠다’는 모호한 답변만을 받은 상태입니다. 다만, 본 앱 사용으로 인해 발생하는 모든 책임은 전적으로 사용자 본인에게 있음을 유의하시기 바랍니다.
2. 본 앱을 실행할 때 "알 수 없는 게시자" 경고가 표시될 수 있습니다. 이는 코드 서명을 추가하지 않았기 때문이며, 개인 개발자 수준에서 이를 해결하려면 유료 인증서가 필요하여 부담이 큽니다. 이에 따라, 신뢰성을 보장하기 위해 코드를 오픈 소스로 공개하였음을 안내드립니다.
3. 본 앱은 Windows 환경에서만 테스트되었습니다.
4. 본 앱은 1초마다 화면을 캡처하고 OCR(광학 문자 인식)을 수행하기 때문에 일정량의 메모리를 점유합니다. 따라서, 장시간 사용 시 메모리 사용량을 모니터링하고 필요 시 앱을 재실행하는 것을 권장합니다.
5. 게임을 저해상도로 플레이할 경우 인식 정확도가 저하될 수 있습니다.
6. 설정된 영역의 UI 부분이 가려지지 않도록 주의해 주시기 바랍니다.
7. 게임 내에서 맵 이동이나 월드 이동이 빈번하게 발생할 경우, 일시적으로 오인식이 발생할 가능성이 있으므로 이 점 참고해 주시기 바랍니다.

---

## 라이센스
본 코드는 Mapleland 플레이어를 위한 개인 용도로 제공되며, 상업적/비상업적 재배포는 허용되지 않습니다.  
코드는 개인적인 수정 및 활용은 가능하나, 외부 배포 또는 상업적 이용은 금지됩니다.
